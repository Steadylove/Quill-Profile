#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# 1. è¿è¡Œå®Œæ•´çš„ lint æ ¡éªŒï¼Œå¿…é¡»é€šè¿‡
echo "ğŸ” Running lint check..."
pnpm lint || {
  echo "âŒ Lint check failed! Please fix the errors before committing."
  exit 1
}

# 2. è¿è¡Œ format æ ¼å¼åŒ–ä»£ç 
echo "âœ¨ Running format..."
pnpm format

# 3. è¿è¡Œ lint-staged å¯¹æš‚å­˜æ–‡ä»¶è¿›è¡Œé¢å¤–æ£€æŸ¥å’Œæ ¼å¼åŒ–
echo "ğŸ“ Running lint-staged..."
pnpm exec lint-staged
